<!DOCTYPE html>
<html>
  <head>
    <title>Drydock Themes Documentation</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.33" />
<title>Install With DrupalVM Locally :: Drydock Themes Documentation</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<meta name="description" content="">


    
  </head>
  <body data-url="/drydock-business/getting-start/install-drupalvm/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="/">Drydock Themes Documentation</a>
  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="http://www.drydockthemes.com"  rel="noopener">
                  <i class='fa fa-home'></i> <label>Drydock Theme Store</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/drydock-business/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/drydock-business/">Drydock Business Theme</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/drydock-business/getting-start/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/drydock-business/getting-start/">Getting started</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/drydock-business/getting-start/install-drupalvm/" class="dd-item active">
        <div>
          <a href="/drydock-business/getting-start/install-drupalvm/">
            Install With DrupalVM Locally
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/drydock-business/getting-start/install-mamp-free/" class="dd-item">
        <div>
          <a href="/drydock-business/getting-start/install-mamp-free/">
            Install With MAMP Free Edition
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/drydock-business/getting-start/install-mamp-pro/" class="dd-item">
        <div>
          <a href="/drydock-business/getting-start/install-mamp-pro/">
            Install With MAMP Pro
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/drydock-business/getting-start/deploy-git/" class="dd-item">
        <div>
          <a href="/drydock-business/getting-start/deploy-git/">
            Setup Github
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/drydock-business/getting-start/deploy-pantheon/" class="dd-item">
        <div>
          <a href="/drydock-business/getting-start/deploy-pantheon/">
            Deploy to Pantheon
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/drydock-business/" >
   Drydock Business Theme</option> 
    <option value="/drydock-business/getting-start/" >
  - 
   Getting started</option> 
      <option value="/drydock-business/getting-start/install-drupalvm/"  selected>-- Install With DrupalVM Locally</option>
      <option value="/drydock-business/getting-start/install-mamp-free/" >-- Install With MAMP Free Edition</option>
      <option value="/drydock-business/getting-start/install-mamp-pro/" >-- Install With MAMP Pro</option>
      <option value="/drydock-business/getting-start/deploy-git/" >-- Setup Github</option>
      <option value="/drydock-business/getting-start/deploy-pantheon/" >-- Deploy to Pantheon</option>
  
  



        </select>
      </center>
    </div>
    

    <h1>Install With DrupalVM Locally</h1>
    
    
    
    

<h2 id="local-prerequisites">Local Prerequisites</h2>

<ul>
<li>Install Composer Globally <a href="https://getcomposer.org/doc/00-intro.md#globally">https://getcomposer.org/doc/00-intro.md#globally</a></li>
<li>Install Vagrant <a href="https://www.vagrantup.com/downloads.html">https://www.vagrantup.com/downloads.html</a></li>
<li>Install Virtual Box <a href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a></li>
</ul>

<h2 id="install-drupal">Install Drupal</h2>

<h3 id="unzip-the-project">Unzip The Project</h3>

<p>Unzip the Drydock project on your computer into a folder called <code>drydock-business</code>. You should end up with a folder structure like below.</p>

<pre><code>/drydock-business
 - /drupal
 - /vm
</code></pre>

<h3 id="configure-drupalvm">Configure DrupalVM</h3>

<p>Modify the <code>config.yml</code> file located inside the <code>vm</code> folder. You will need to change the <code>local_path</code> to point to the project files on your computer.</p>

<pre><code>vagrant_synced_folders:
  - local_path: ~/work/web/drydock-business // enter the full path to your project directory
</code></pre>

<h3 id="run-vagrant">Run Vagrant</h3>

<p>From the <code>vm</code> folder you can now run Vagrant.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">vagrant up</code></pre></div>
<div class="notices note" ><p>If for any reason the deployment fails, running <code>vagrant provision</code> will often fix the issue.</p>
</div>


<h3 id="visit-the-website">Visit The Website</h3>

<p>Visit <em>drydock-business.local</em> in the browser! You should see the default Drupal 8 website.</p>

<hr />

<h2 id="import-data">Import Data</h2>

<p><strong>Choose between two methods</strong> to complete the Drydock installation. This will enable the theme, but more importantly import content types, blocks, views and content.</p>

<h3 id="method-1-sql-import">Method 1: SQL Import</h3>

<p>Importing the SQL file is the fastest and easiest method to configure the site and achieve the exact look and feel as the demo. Note you need to run MySQL from within the Vagrant box.</p>

<p>From the <code>vm</code> directory ssh into Vagrant</p>

<pre><code>vagrant ssh
</code></pre>

<p>Navigate to the folder which includes the drydock.sql file.</p>

<pre><code>cd /var/www/drupalvm/drupal/sql
</code></pre>

<p>Import the database. DrupalVM has already created a database called <code>drupal</code>.</p>

<pre><code>mysql -uroot -proot drupal &lt; drydock.sql
</code></pre>

<p>Finally, clear the Drupal cache. Executing Drush commands must be done from the <code>/web</code> folder.</p>

<pre><code>cd ..
cd web
drush cr all
</code></pre>

<p>Exit the SSH session.</p>

<pre><code>exit
</code></pre>

<p>Visit <code>drydock-business.local</code> in the browser. The website should be fully provisioned and look like the demo website. This ends the installation process on your local machine.</p>

<h3 id="method-2-configuration-syncronization">Method 2: Configuration Syncronization</h3>

<p>Method 2 uses the new Drupal 8 configuration management system. Site configuration data that is stored in the database, can now be imported and exported as code. The potential is huge, but there are still many quirks to the process. We recommend you read the
<a href="https://www.drupal.org/docs/8/configuration-management">Drupal configuration management docs</a> for an overview.</p>

<p>For the Drydock theme, we&rsquo;ve included the site configuration files. So instead of importing SQL you can import the configuration files to provision the fully completed site.</p>

<p>From the <code>vm</code> directory ssh into Vagrant</p>

<pre><code>vagrant ssh
</code></pre>

<p>Drush commands must be executed from within the <code>/web</code> folder.</p>

<pre><code>cd /var/www/drupalvm/drupal/web
</code></pre>

<p>Install and enable the Drydock theme.</p>

<pre><code>drush en drydock -y
drush config-set system.theme default drydock -y
</code></pre>

<p>Set the default homepage node.</p>

<pre><code>drush config-set system.site page.front /node/1 -y
</code></pre>

<p>Sync the configurations UUID.</p>

<p>One of the quirks of configuration management is that the UUID of your Drupal site must match the UUID in the configuration files. When you install a fresh copy of Drupal locally, and then recieve configuration files that have been exported from a different Drupal installation (different databases) you will need to sync the UUID.</p>

<pre><code>drupal config:export:single --name=system.site --no-interaction
drupal config:export:single --name=shortcut.set.default --remove-uuid --remove-config-hash --no-interaction
</code></pre>

<p>Import the configuration</p>

<pre><code>drush config-import -y
</code></pre>

<p>Visit <code>drydock-business.local</code> in the browser. The website should be fully provisioned and look like the demo website. This ends the installation process on your local machine.</p>

<h4 id="generate-dummy-content">Generate Dummy Content</h4>

<p>When the theme is first installed, it automatically creates default content for key pages including &lsquo;homepage, services, work, team, testimonials, about us, contact us&rsquo;</p>

<p>To generate dummy content for each content type use <code>devel_generate</code> in the Drupal admin.</p>

<p>Or use drush on the command line.</p>

<pre><code>drush generate-content 20 --types=service
drush generate-content 20 --types=work
drush generate-content 20 --types=team
drush generate-content 20 --types=testimonial
</code></pre>


    
    
        <div class="chevrons">
    <div id="navigation">
</div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

    <div class="github-link">
      <a href="https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/drydock-business/getting-start/install-drupalvm.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
  </div>


	<div>


  
    Create a content/_footer.md file to customize the footer content
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>


<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script src="/theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>